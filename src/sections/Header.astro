---
import Image from "astro/components/Image.astro";
import ProfileImage from "@/assets/imgs/profile.webp";
import ThemeIcon from "../components/ThemeIcon.astro";
---

<header
        class="w-full h-20 sticky top-0 flex justify-between items-center mx-auto p-4 bg-inherit rounded-lg z-50"
>
    <div id="header-info" class="h-full flex justify-center items-center gap-4 opacity-0">
    <span class="max-w-12 h-full rounded-full overflow-hidden">
      <Image class="object-contain" src={ProfileImage} alt="Kirby Foto" loading={"lazy"}/>
    </span>
        <h2 class="text-inherit">Daniel Manzano</h2>
    </div>
    <ThemeIcon />
</header>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const presentationSection = document.getElementById("presentation-section") as HTMLElement;
    const headerInfo = document.getElementById("header-info") as HTMLElement;

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          headerInfo.classList.add("opacity-0");
        } else {
          headerInfo.classList.remove("opacity-0");
        }
      })
    });
    observer.observe(presentationSection);
  })
</script>